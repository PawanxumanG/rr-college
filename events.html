<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>RR International College - Events</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="style.css">

<style>
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Arial;
  background:#0f1117;
  color:#fff;
}

/* HEADER */
.header{
  background:linear-gradient(90deg,#ff6a00,#ff9800);
  text-align:center;
  padding:18px 12px;
}
.header h1{margin:0;font-size:18px}
.header p{margin:6px 0 0;font-size:13px;opacity:.9}

/* CONTAINER */
.container{padding:16px}

/* EVENT CARD */
.event-card{
  background:linear-gradient(135deg,#ff9800,#ff5722,#7b2cff,#2575fc);
  background-size:400% 400%;
  animation:gradient 8s ease infinite;
  border-radius:20px;
  padding:22px;
  margin-bottom:18px;
  box-shadow:0 0 30px rgba(255,152,0,.55);
}
.event-card h2{margin-top:0;font-size:18px}
.event-card p{font-size:14.5px;line-height:1.7;margin-bottom:10px}

/* ERROR */
.error-box{
  background:linear-gradient(135deg,#ff9800,#9b59b6);
  padding:18px;
  border-radius:16px;
  text-align:center;
  font-weight:600;
}

/* BACK BTN */
.back-btn{
  width:100%;
  padding:14px;
  margin:24px 0 80px;
  border:none;
  border-radius:14px;
  font-size:16px;
  font-weight:700;
  background:linear-gradient(135deg,#00c6ff,#0072ff);
  color:#fff;
}
</style>
</head>

<body>

<div class="header">
  <h1>RR INTERNATIONAL COLLEGE</h1>
  <p>Events & Upcoming Activities</p>
</div>

<div class="container" id="eventsContainer">
  <div class="error-box">⏳ Loading events…</div>
</div>

<button class="back-btn" onclick="location.href='index.html'">
⬅ Back to Home
</button>

<script>
fetch('events.json?t=' + Date.now())
  .then(res => {
    if(!res.ok) throw new Error('Fetch failed');
    return res.json();
  })
  .then(data => {
    if(!data.show || !data.events || data.events.length === 0){
      throw new Error('No events');
    }

    const container = document.getElementById('eventsContainer');
    container.innerHTML = '';

    data.events.forEach(ev => {
      let html = `
        <div class="event-card">
          <h2>${ev.title}</h2>
      `;
      ev.content.forEach(line => {
        html += `<p>${line}</p>`;
      });
      html += `</div>`;
      container.innerHTML += html;
    });
  })
  .catch(err => {
    document.getElementById('eventsContainer').innerHTML = `
      <div class="error-box">⚠️ Unable to load events.</div>
    `;
    console.log(err);
  });
</script>

</body>
</html>