<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Tic Tac Toe ‚Äì RR Events App</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{box-sizing:border-box;-webkit-tap-highlight-color:transparent;}
body{
  margin:0;
  font-family:system-ui,Arial;
  background:#0f1117;
  color:#fff;
  text-align:center;
}
.header{
  background:linear-gradient(90deg,#6a11cb,#2575fc);
  padding:22px 12px;
}
.header h1{margin:0;font-size:26px;}
.header p{opacity:.85;margin-top:6px;}

.status{
  margin:18px 0;
  font-size:18px;
  font-weight:600;
}

.board{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:14px;
  max-width:320px;
  margin:0 auto;
}
.cell{
  background:#161a22;
  border-radius:16px;
  height:90px;
  font-size:42px;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
}
.cell.X{color:#4fc3f7;}
.cell.O{color:#ffb74d;}
.cell.win{
  background:linear-gradient(135deg,#ff512f,#dd2476);
}

.btn{
  width:80%;
  max-width:280px;
  padding:14px;
  margin-top:16px;
  border:none;
  border-radius:12px;
  font-size:16px;
  font-weight:600;
  color:#fff;
  cursor:pointer;
}
.btn-restart{background:#ff9800;}
.btn-back{background:#34495e;}

.cheat-overlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.9);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:999;
}
.cheat-box{
  background:#161a22;
  padding:26px;
  border-radius:18px;
  width:85%;
  max-width:320px;
}
.cheat-box h2{color:#ff5252;margin:0 0 10px;}
.cheat-box p{opacity:.9;}
.cheat-box button{
  width:100%;
  margin-top:16px;
  padding:12px;
  border:none;
  border-radius:12px;
  background:#ff9800;
  color:#fff;
  font-weight:700;
  cursor:pointer;
}
</style>
</head>

<body>

<div class="header">
  <h1>‚ùå ‚≠ï Tic Tac Toe</h1>
  <p>Play ‚Ä¢ Chill ‚Ä¢ Compete</p>
</div>

<div class="status" id="status">Player X Turn</div>
<div class="board" id="board"></div>

<button class="btn btn-restart" onclick="restartGame()">Restart Game</button>
<button class="btn btn-back" onclick="location.href='games.html'">Back</button>

<!-- üö® CHEATER POPUP -->
<div class="cheat-overlay" id="cheatOverlay">
  <div class="cheat-box">
    <h2>üö® Cheater Detected üòÇ</h2>
    <p>You can‚Äôt win as Player X.<br>Play fair and try again.</p>
    <button onclick="restartGame()">Restart Fair</button>
  </div>
</div>

<script>
const boardEl = document.getElementById("board");
const statusEl = document.getElementById("status");
const cheatOverlay = document.getElementById("cheatOverlay");

let board, currentPlayer, gameOver, isAITurn;

const wins=[
  [0,1,2],[3,4,5],[6,7,8],
  [0,3,6],[1,4,7],[2,5,8],
  [0,4,8],[2,4,6]
];

function init(){
  board = Array(9).fill("");
  currentPlayer = "X";
  gameOver = false;
  isAITurn = false;
  cheatOverlay.style.display = "none";
  statusEl.innerText = "Player X Turn";
  boardEl.innerHTML = "";

  board.forEach((_,i)=>{
    const c = document.createElement("div");
    c.className = "cell";
    c.onclick = ()=>playerMove(i);
    boardEl.appendChild(c);
  });
}
init();

function playerMove(i){
  if(gameOver || isAITurn || board[i]) return;

  makeMove(i,"X");

  if(checkWin("X")){
    gameOver = true;
    isAITurn = false;
    cheatOverlay.style.display = "flex";
    return;
  }

  if(isDraw()) return;

  // AI turn
  currentPlayer = "O";
  isAITurn = true;
  statusEl.innerText = "ü§ñ AI Thinking...";

  setTimeout(aiMove, 500);
}

function aiMove(){
  if(gameOver) return;

  const empty = board
    .map((v,i)=>v===""?i:null)
    .filter(v=>v!==null);

  // Simple AI (can upgrade later)
  const move = empty[Math.floor(Math.random()*empty.length)];
  makeMove(move,"O");

  if(checkWin("O")){
    statusEl.innerText = "üéâ AI Wins!";
    gameOver = true;
    isAITurn = false;
    return;
  }

  if(isDraw()) return;

  currentPlayer = "X";
  isAITurn = false;
  statusEl.innerText = "Player X Turn";
}

function makeMove(i,player){
  board[i]=player;
  render();
}

function checkWin(player){
  const line = wins.find(w=>w.every(i=>board[i]===player));
  if(line){
    line.forEach(i=>boardEl.children[i].classList.add("win"));
    return true;
  }
  return false;
}

function isDraw(){
  if(board.every(v=>v)){
    statusEl.innerText = "ü§ù Match Draw";
    gameOver = true;
    isAITurn = false;
    return true;
  }
  return false;
}

function render(){
  [...boardEl.children].forEach((c,i)=>{
    c.innerText = board[i];
    c.className = "cell "+board[i];
  });
}

function restartGame(){
  init();
}
</script>

</body>
</html>