<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Event Album ‚Äì RR International College</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="style.css">

<!-- ================= GOOGLE ANALYTICS ================= -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9JW1V42V83"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config','G-9JW1V42V83',{
  page_title:'Event Album',
  page_path:'/event_album.html'
});
</script>
<!-- =================================================== -->

<style>
.poster-box{
    background:#161a22;
    border-radius:14px;
    padding:14px;
    margin-bottom:16px;
    text-align:center;
    box-shadow:0 0 18px rgba(0,0,0,.6);
}
.poster-box img{
    width:100%;
    border-radius:12px;
    margin-top:8px;
}

.download-btn{
    margin-top:12px;
    display:inline-block;
    padding:10px 18px;
    background:linear-gradient(135deg,#f36b21,#ff8c42);
    color:#fff;
    border-radius:999px;
    font-size:14px;
    font-weight:600;
    cursor:pointer;
    text-decoration:none;
    box-shadow:0 0 12px rgba(243,107,33,.6);
}
.download-btn:active{transform:scale(.97);}

/* ===== KEY POPUP ===== */
.key-overlay{
    display:none;
    position:fixed;
    inset:0;
    background:rgba(0,0,0,.7);
    z-index:9999;
    justify-content:center;
    align-items:center;
}
.key-box{
    background:#161a22;
    padding:22px;
    border-radius:16px;
    width:85%;
    max-width:320px;
    text-align:center;
    box-shadow:0 0 30px rgba(0,0,0,.8);
}
.key-box h3{color:#f36b21;}
.key-box input{
    width:100%;
    padding:12px;
    border-radius:10px;
    border:none;
    margin-top:10px;
    font-size:14px;
}
.key-box button{
    margin-top:12px;
    padding:12px;
    width:100%;
    border:none;
    border-radius:12px;
    background:#f36b21;
    color:#fff;
    font-weight:600;
    cursor:pointer;
}
.key-msg{
    margin-top:8px;
    font-size:13px;
    color:#ff6b6b;
}

/* ===== DOWNLOAD DIALOG ===== */
.dialog-overlay{
    display:none;
    position:fixed;
    inset:0;
    background:rgba(0,0,0,.65);
    z-index:999;
    justify-content:center;
    align-items:center;
}
.dialog-box{
    background:#161a22;
    padding:22px;
    border-radius:16px;
    text-align:center;
    width:85%;
    max-width:320px;
    box-shadow:0 0 30px rgba(0,0,0,.8);
}
.dialog-box h3{color:#f36b21;}
.dialog-box p{color:#cfcfcf;font-size:14px;}
.dialog-box button{
    margin-top:14px;
    padding:10px 22px;
    border:none;
    background:#f36b21;
    color:#fff;
    border-radius:999px;
    cursor:pointer;
}
</style>
</head>

<body>

<div class="header">
    <h1>EVENT ALBUM</h1>
    <p>College Events & Memories</p>
</div>

<div class="container">

<div class="event">
<h2>üëî Formal Day</h2>

<div class="poster-box">
<h3>üë® Boys Formal</h3>
<img src="boys_formal.jpg">
<div class="download-btn" onclick="openKey('boys_formal.jpg','Formal_Day_Boys.jpg')">
‚¨á Download Image
</div>
</div>

<div class="poster-box">
<h3>üë© Girls Formal</h3>
<img src="girls_formal.jpg">
<div class="download-btn" onclick="openKey('girls_formal.jpg','Formal_Day_Girls.jpg')">
‚¨á Download Image
</div>
</div>
</div>

<div class="event">
<h2>üëñ Denim Day</h2>
<div class="poster-box">
<h3>üíô Denim Group</h3>
<img src="denim.png">
<div class="download-btn" onclick="openKey('denim.png','Denim_Day.jpg')">
‚¨á Download Image
</div>
</div>
</div>

<button onclick="history.back()" class="nav-btn">‚¨Ö Back to Home</button>
</div>

<!-- üîê KEY POPUP -->
<div class="key-overlay" id="keyGate">
<div class="key-box">
<h3>üîê Enter Download Key</h3>
<input id="keyInput" placeholder="Enter key">
<button onclick="verifyKey()">Submit</button>
<div class="key-msg" id="keyMsg"></div>
<button onclick="closeKey()" style="background:none;color:#aaa;">Cancel</button>
</div>
</div>

<!-- ‚úÖ DOWNLOAD CONFIRM -->
<div class="dialog-overlay" id="downloadDialog">
<div class="dialog-box">
<h3>Download Started</h3>
<p>Please check your <b>Downloads</b> folder.</p>
<button onclick="closeDialog()">OK</button>
</div>
</div>

<script>
const DOWNLOAD_KEY="KARMANYA2025";
let fileUrl="",fileName="";

function openKey(url,name){
fileUrl=url; fileName=name;
document.getElementById("keyGate").style.display="flex";
}

function closeKey(){
document.getElementById("keyGate").style.display="none";
document.getElementById("keyInput").value="";
document.getElementById("keyMsg").innerText="";
}

function verifyKey(){
const k=document.getElementById("keyInput").value.trim();
if(k===DOWNLOAD_KEY){
closeKey();
downloadFile();
}else{
document.getElementById("keyMsg").innerText="‚ùå Invalid key";
}
}

function downloadFile(){
const a=document.createElement("a");
a.href=fileUrl; a.download=fileName;
document.body.appendChild(a);
a.click();
document.body.removeChild(a);

gtag('event','image_download',{event_label:fileName});
document.getElementById("downloadDialog").style.display="flex";
}

function closeDialog(){
document.getElementById("downloadDialog").style.display="none";
}
</script>

</body>
</html>